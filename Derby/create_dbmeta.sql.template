jdbc:derby:@@databases@@/DbMeta;@@CREATE_OPTIONS@@;
CALL SYSCS_UTIL.SYSCS_SET_DATABASE_PROPERTY( 
    'derby.storage.pageReservedSpace',
    '0');

CREATE TABLE REGION
(
id   		   INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
name   		   VARCHAR(32) NOT NULL UNIQUE,
description        VARCHAR(128),
CONSTRAINT REGION_PK PRIMARY KEY (id)
);

CREATE TABLE MODEL
(
id   		   INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
name   		   VARCHAR(32) NOT NULL UNIQUE,
description        VARCHAR(128),
num_factors        SMALLINT NOT NULL,
model_region       VARCHAR(32) NOT NULL,
CONSTRAINT MODEL_PK PRIMARY KEY (id)
);

CREATE TABLE COMPOSITE_FAMILY (
name           VARCHAR(32) NOT NULL,
description    VARCHAR(128),
CONSTRAINT COMPOSITE_FAMILY_PK PRIMARY KEY (name)
);

CREATE TABLE COMPOSITE_SUPPORTED_MODELS (
composite_family_name VARCHAR(32) NOT NULL,
model_name            VARCHAR(32) NOT NULL
);

CREATE TABLE INDEX_FAMILY (
idx_family_id INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
name          VARCHAR(32) NOT NULL UNIQUE,
description   VARCHAR(128),
CONSTRAINT INDEX_FAMILY_PK PRIMARY KEY (idx_family_id)
);

CREATE TABLE INDEX (
idx_family_id INTEGER NOT NULL,
name          VARCHAR(63) NOT NULL,
description   VARCHAR(128),
from_dt       DATE NOT NULL,
thru_dt       DATE NOT NULL,
CONSTRAINT INDEX_PK PRIMARY KEY (name)
);

CREATE TABLE CLASSIFICATION (
name          VARCHAR(32) NOT NULL,
description   VARCHAR(128),
CONSTRAINT CLASSIFICATION_PK PRIMARY KEY (name)
);
